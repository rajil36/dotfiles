ExtensionLicenseExpiration=function(e){var n,t,i,r,s,a,d,o=function(n,t,i,r){var s=$(e.body),a="license_expiration_seen",d="license_expiration_upgrade",o="license_expiration_learn_more",g="license_expiration_dismiss",l,m=document.getElementById("notificationContainer"),S=LPTools.createElement("div"),c=LPTools.createElement("p"),x=LPTools.createElement("button"),L=LPTools.createElement("a");S.setAttribute("id","expirationTextContainer"),c.setAttribute("id","expirationText"),x.setAttribute("id","expirationUpgradeButton"),L.setAttribute("id","expirationLearnMore");var u=document.getElementById("panelContainer"),T=LPTools.createElement("h1"),E=LPTools.createElement("p"),v=LPTools.createElement("span"),b=LPTools.createElement("a"),P=LPTools.createElement("div","features"),f=LPTools.createElement("div","feature one"),h=LPTools.createElement("div","feature two"),k=LPTools.createElement("div","feature three"),I=LPTools.createElement("div","buttons"),C=LPTools.createElement("button","try-btn"),y=LPTools.createElement("button","no-thanks-btn"),_=function(){S.appendChild(c),S.appendChild(L),m.appendChild(S),m.appendChild(x)},w=function(){E.appendChild(v),E.appendChild(b),P.appendChild(f),P.appendChild(h),P.appendChild(k),I.appendChild(C),I.appendChild(y),u.appendChild(T),u.appendChild(E),u.appendChild(P),u.appendChild(I)};switch(n){case"Enterprise Admin":void 0!==i&&i<1?(w(),"trial"===t?(T.innerText=Strings.translateString("Your LastPass Enterprise trial expired."),v.innerText=Strings.translateString("Upgrade now to avoid losing LastPass Enterprise features."),C.innerText=Strings.translateString("Upgrade to LastPass Enterprise"),b.innerText=Strings.translateString("Learn More"),y.innerText=Strings.translateString("No Thanks"),f.innerText=Strings.translateString("Federated Login with AD Sync"),h.innerText=Strings.translateString("SAML Single Sign-On"),k.innerText=Strings.translateString("Advanced Reporting"),l="dismissedEnterpriseExpired"):(T.innerText=Strings.translateString("Your LastPass Enterprise license expired."),v.innerText=Strings.translateString("Renew now to avoid losing LastPass Enterprise features."),b.innerText=Strings.translateString("Learn More"),C.innerText=Strings.translateString("Renew LastPass Enterprise"),y.innerText=Strings.translateString("No Thanks"),f.innerText=Strings.translateString("Federated Login with AD Sync"),h.innerText=Strings.translateString("SAML Single Sign-On"),k.innerText=Strings.translateString("Advanced Reporting"),l="dismissedEnterpriseExpired"),s.addClass("expiredSet"),u.classList.add("enterpriseExpired"),bg.sendLpImprove(a),C.addEventListener("click",function(){bg.sendLpImprove(d),bg.openenterprisepayment()}),b.addEventListener("click",function(){bg.sendLpImprove(o),bg.openpricing()}),y.addEventListener("click",function(){bg.sendLpImprove(g),ExtensionDropdown.setSize(),s.removeClass("expiredSet"),p(l,1)})):void 0!==i&&i<=30&&1!==r?(_(),c.innerText=Strings.translateString("Your LastPass Enterprise license expires in %1 days.",i),x.innerText=Strings.translateString("Renew"),L.innerText=Strings.translateString("Learn More"),s.addClass("expirationSet"),bg.sendLpImprove(a),x.addEventListener("click",function(){bg.sendLpImprove(d),bg.openenterprisepayment()}),L.addEventListener("click",function(){bg.sendLpImprove(o),bg.openpricing()})):(_(),c.innerText=Strings.translateString("Your LastPass Enterprise trial expires in %1 days.",i),x.innerText=Strings.translateString("Upgrade"),L.innerText=Strings.translateString("Learn More"),bg.sendLpImprove(a),s.addClass("expirationSet"),x.addEventListener("click",function(){bg.sendLpImprove(d),bg.openenterprisepayment()}),L.addEventListener("click",function(){bg.sendLpImprove(o),bg.openpricing()}));break;case"Teams Admin":void 0!==i&&i<1?(w(),"trial"===t?(T.innerText=Strings.translateString("Your LastPass Teams trial expired."),v.innerText=Strings.translateString("Upgrade now to avoid losing LastPass Teams features."),C.innerText=Strings.translateString("Upgrade to LastPass Teams"),b.innerText=Strings.translateString("Learn More"),y.innerText=Strings.translateString("No Thanks"),f.innerText=Strings.translateString("Admin Dashboard"),h.innerText=Strings.translateString("User Management"),k.innerText=Strings.translateString("Increased Security Policies"),l="dismissedTeamsExpired"):(T.innerText=Strings.translateString("Your LastPass Teams license expired."),v.innerText=Strings.translateString("Renew now to avoid losing LastPass Teams features."),C.innerText=Strings.translateString("Renew LastPass Teams"),b.innerText=Strings.translateString("Learn More"),y.innerText=Strings.translateString("No Thanks"),f.innerText=Strings.translateString("Admin Dashboard"),h.innerText=Strings.translateString("User Management"),k.innerText=Strings.translateString("Increased Security Policies"),l="dismissedTeamsExpired"),s.addClass("expiredSet"),u.classList.add("teamsExpired"),bg.sendLpImprove(a),C.addEventListener("click",function(){bg.sendLpImprove(d),bg.openteamspayment()}),b.addEventListener("click",function(){bg.sendLpImprove(o),bg.openpricing()}),y.addEventListener("click",function(){bg.sendLpImprove(g),ExtensionDropdown.setSize(),s.removeClass("expiredSet"),p(l,1)})):void 0!==i&&i<=30&&1!==r?(_(),c.innerText=Strings.translateString("Your LastPass Teams license expires in %1 days.",i),x.innerText=Strings.translateString("Renew"),L.innerText=Strings.translateString("Learn More"),s.addClass("expirationSet"),bg.sendLpImprove(a),x.addEventListener("click",function(){bg.sendLpImprove(d),bg.openenterprisepayment()}),L.addEventListener("click",function(){bg.sendLpImprove(o),bg.openpricing()})):(_(),c.innerText=Strings.translateString("Your LastPass Teams trial expires in %1 days.",i),x.innerText=Strings.translateString("Upgrade"),L.innerText=Strings.translateString("Learn More"),s.addClass("expirationSet"),bg.sendLpImprove(a),x.addEventListener("click",function(){bg.sendLpImprove(d),bg.openteamspayment()}),L.addEventListener("click",function(){bg.sendLpImprove(o),bg.openpricing()}));break;case"Family Admin":void 0!==i&&i<1?(w(),"trial"===t?(T.innerText=Strings.translateString("Your LastPass Families trial expired."),v.innerText=Strings.translateString("Upgrade now to avoid losing LastPass Families features."),C.innerText=Strings.translateString("Upgrade to LastPass Families"),b.innerText=Strings.translateString("Learn More"),y.innerText=Strings.translateString("No Thanks"),f.innerText=Strings.translateString("Six Premium Licenses"),h.innerText=Strings.translateString("Family Manager Dashboard"),k.innerText=Strings.translateString("Unlimited Shared Folders"),l="dismissedFamiliesExpired"):(T.innerText=Strings.translateString("Your LastPass Families license expired."),v.innerText=Strings.translateString("Renew now to avoid losing LastPass Families features."),C.innerText=Strings.translateString("Renew LastPass Families"),b.innerText=Strings.translateString("Learn More"),y.innerText=Strings.translateString("No Thanks"),f.innerText=Strings.translateString("Six Premium Licenses"),h.innerText=Strings.translateString("Family Manager Dashboard"),k.innerText=Strings.translateString("Unlimited Shared Folders"),d="license_expired_upgrade_families",o="license_expired_learn_more_families",g="license_expired_dismiss_families",l="dismissedFamiliesExpired",a="license_expired_seen_families"),s.addClass("expiredSet"),u.classList.add("familiesExpired"),bg.sendLpImprove(a),C.addEventListener("click",function(){bg.sendLpImprove(d),bg.openfamiliespayment()}),b.addEventListener("click",function(){bg.sendLpImprove(o),bg.openpricing()}),y.addEventListener("click",function(){bg.sendLpImprove(g),ExtensionDropdown.setSize(),s.removeClass("expiredSet"),p(l,1)})):(_(),c.innerText=Strings.translateString("Your LastPass Families trial expires in %1 days.",i),x.innerText=Strings.translateString("Upgrade"),L.innerText=Strings.translateString("Learn More"),s.addClass("expirationSet"),bg.sendLpImprove(a),x.addEventListener("click",function(){bg.sendLpImprove(d),bg.openfamiliespayment()}),L.addEventListener("click",function(){bg.sendLpImprove(o),bg.openpricing()}));break;case"Premium Trial User":void 0!==i&&i<1?(w(),T.innerText=Strings.translateString("Your LastPass Premium trial expired."),v.innerText=Strings.translateString("Upgrade now to avoid losing LastPass Premium features."),C.innerText=Strings.translateString("Upgrade to LastPass Premium"),b.innerText=Strings.translateString("Learn More"),y.innerText=Strings.translateString("No Thanks"),f.innerText=Strings.translateString("Unlimited 1:1 Password Sharing"),h.innerText=Strings.translateString("Emergency Access"),k.innerText=Strings.translateString("Two-Factor Authentication"),l="dismissedPremiumTrialExpired",s.addClass("expiredSet"),u.classList.add("premiumExpired"),bg.sendLpImprove(a),C.addEventListener("click",function(){bg.sendLpImprove(d),bg.openpremium()}),b.addEventListener("click",function(){bg.sendLpImprove(o),bg.openpricing()}),y.addEventListener("click",function(){bg.sendLpImprove(g),ExtensionDropdown.setSize(),s.removeClass("expiredSet"),p(l,1)})):(_(),c.innerText=Strings.translateString("Your LastPass Premium trial expires in %1 days.",i),x.innerText=Strings.translateString("Upgrade"),L.innerText=Strings.translateString("Learn More"),s.addClass("expirationSet"),bg.sendLpImprove(a),x.addEventListener("click",function(){bg.sendLpImprove(d),bg.openpremium()}),L.addEventListener("click",function(){bg.sendLpImprove(o),bg.openpricing()}));break;case"Free User":void 0!==i&&i>=-30&&(w(),T.innerText=Strings.translateString("Your LastPass Premium trial expired."),v.innerText=Strings.translateString("Upgrade now to avoid losing LastPass Premium features."),C.innerText=Strings.translateString("Upgrade to LastPass Premium"),b.innerText=Strings.translateString("Learn More"),y.innerText=Strings.translateString("No Thanks"),f.innerText=Strings.translateString("Unlimited 1:1 Password Sharing"),h.innerText=Strings.translateString("Emergency Access"),k.innerText=Strings.translateString("Two-Factor Authentication"),l="dismissedPremiumTrialExpired",s.addClass("expiredSet"),u.classList.add("premiumExpired"),bg.sendLpImprove(a),C.addEventListener("click",function(){bg.sendLpImprove(d),bg.openpremium()}),b.addEventListener("click",function(){bg.sendLpImprove(o),bg.openpricing()}),y.addEventListener("click",function(){bg.sendLpImprove(g),ExtensionDropdown.setSize(),s.removeClass("expiredSet"),p(l,1)}))}},p=function(e,n){var t=JSON.parse(localStorage.getItem("expiredData"));null===t?((t={})[e]=n,localStorage.setItem("expiredData",JSON.stringify(t))):(t[e]=n,localStorage.setItem("expiredData",JSON.stringify(t)))},g,l,m,S,c,x,L,u,T;return{initialize:function(){var e;(n=bg.get("LPContentScriptFeatures").license_expiration,t=LPProxy.getAccountClass(),i=bg.get("g_premium_trial_exp_days"),r=bg.get("g_company_trial_exp_days"),s=bg.get("g_company_license_exp_days"),a=bg.get("g_company_renewalstatus"),s>360)&&(null!==JSON.parse(localStorage.getItem("expiredData"))&&localStorage.removeItem("expiredData"))},showExpiration:o,getStoredExpPrefs:function(e,n,t,i){var r=JSON.parse(localStorage.getItem("expiredData"));return null!==r&&(1===r[e]||1===r[n]||1===r[t]||1===r[i])},premiumTrialExpiringStatusChecker:function(){return n&&null!==i&&i<=7&&i>=1&&"Premium Trial User"===t},premiumTrialExpiredStatusChecker:function(){return n&&null!==i&&i<1&&i>-31&&("Premium Trial User"===t||"Free User"===t)&&!ExtensionLicenseExpiration.getStoredExpPrefs("dismissedPremiumTrialExpired")},companyTrialExpiringStatusChecker:function(){return n&&null!==r&&r<=7&&r>=1},companyTrialExpiredStatusChecker:function(){return n&&null!==r&&r<1&&("Enterprise Admin"===t||"Teams Admin"===t||"Family Admin"===t)&&!ExtensionLicenseExpiration.getStoredExpPrefs("dismissedEnterpriseExpired","dismissedTeamsExpired","dismissedFamiliesExpired")},companyLicenseExpiredStatusChecker:function(){return n&&null!==s&&s<1&&("Enterprise Admin"===t||"Teams Admin"===t||"Family Admin"===t)&&!ExtensionLicenseExpiration.getStoredExpPrefs("dismissedEnterpriseExpired","dismissedTeamsExpired","dismissedFamiliesExpired")},companyLicenseExpiringStatusChecker:function(){return n&&null!==s&&s<=30&&1!==a&&("Enterprise Admin"===t||"Teams Admin"===t)&&!ExtensionLicenseExpiration.getStoredExpPrefs("dismissedEnterpriseExpired","dismissedTeamsExpired","dismissedFamiliesExpired")},expiredCompanyStatusCheckerForPanelSize:function(){return n&&(null!==s&&s<1||null!==r&&r<1)&&("Enterprise Admin"===t||"Teams Admin"===t||"Family Admin"===t)&&!ExtensionLicenseExpiration.getStoredExpPrefs("dismissedEnterpriseExpired","dismissedTeamsExpired","dismissedFamiliesExpired")},expiredPremiumStatusCheckerForPanelSize:function(){return n&&null!==i&&i<1&&("Premium Trial User"===t||"Free User"===t)&&!ExtensionLicenseExpiration.getStoredExpPrefs("dismissedPremiumTrialExpired")}}}(document);
//# sourceMappingURL=sourcemaps/extensionLicenseExpiration.js.map
